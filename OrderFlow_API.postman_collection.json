{
	"info": {
		"_postman_id": "orderflow-api-collection",
		"name": "OrderFlow API Collection",
		"description": "Complete API collection for OrderFlow e-commerce platform including customer, product, order, and admin management endpoints.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Customer Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"password1234!\",\n    \"password_confirm\": \"password1234!\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"phone_number\": \"+254700123456\",\n    \"address\": \"123 Main St, Nairobi, Kenya\",\n    \"city\": \"Nairobi\",\n    \"state\": \"Nairobi\",\n    \"country\": \"Kenya\",\n    \"postal_code\": \"00100\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/register/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "register", ""]
						}
					}
				},
				{
					"name": "Customer Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"testpass123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "login", ""]
						}
					}
				},
				{
					"name": "Admin Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@orderflow.com\",\n    \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/auth/login/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "auth", "login", ""]
						}
					}
				}
			]
		},
		{
			"name": "Customers",
			"item": [
				{
					"name": "Get Customer Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/customers/profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "customers", "profile", ""]
						}
					}
				}
			]
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/products/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ""]
						}
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/products/{{product_id}}/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", "{{product_id}}", ""]
						}
					}
				},

				{
					"name": "Search Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/products/?search={{search_term}}",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", ""],
							"query": [
								{
									"key": "search",
									"value": "{{search_term}}"
								}
							]
						}
					}
				},
				{
					"name": "Get Featured Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/products/featured/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "products", "featured", ""]
						}
					}
				}
			]
		},
		{
			"name": "Categories",
			"item": [
				{
					"name": "Get All Categories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", ""]
						}
					}
				},

				{
					"name": "Get Average Product Price by Category",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/average_price/?slug=accessories",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", "average_price", ""],
							"query": [
								{
									"key": "slug",
									"value": "accessories"
								}
							]
						}
					}
				},
				{
					"name": "Get Average Prices for All Categories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/average_price_per_category",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", "average_price_per_category"]
						}
					}
				},
				{
					"name": "Get Category Tree",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/categories/tree/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "categories", "tree", ""]
						}
					}
				}
			]
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create Order",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"shipping_address\": \"123 Customer St, Nairobi, Kenya\",\n    \"billing_address\": \"123 Customer St, Nairobi, Kenya\",\n    \"phone_number\": \"+254700123456\",\n    \"items\": [\n        {\n            \"product_id\": \"{{product_id}}\",\n            \"quantity\": 2\n        },\n        {\n            \"product_id\": \"{{product_id_2}}\",\n            \"quantity\": 1\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/orders/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders", ""]
						}
					}
				},
				{
					"name": "Get Customer Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders", ""]
						}
					}
				},
				{
					"name": "Get Order by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{customer_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/orders/{{order_id}}/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "orders", "{{order_id}}", ""]
						}
					}
				}
			]
		},
		{
			"name": "Admin Dashboard",
			"item": [
				{
					"name": "Get Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/dashboard/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "dashboard", ""]
						}
					}
				}
			]
		},
		{
			"name": "Admin - Customer Management",
			"item": [
				{
					"name": "Get All Customers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/customers/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "customers", ""]
						}
					}
				},
				{
					"name": "Get Customer Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/customers/{{customer_id}}/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "customers", "{{customer_id}}", ""]
						}
					}
				},

				{
					"name": "Deactivate Customer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/v1/admin/customers/{{customer_id}}/deactivate/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "customers", "{{customer_id}}", "deactivate", ""]
						}
					}
				}
			]
		},
		{
			"name": "Admin - System Management",
			"item": [
				{
					"name": "Create Admin User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Token {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"newadmin@example.com\",\n    \"password\": \"admin123456\",\n    \"first_name\": \"New\",\n    \"last_name\": \"Admin\",\n    \"role\": \"admin\",\n    \"permissions\": [\"products\", \"orders\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/v1/admin/create_admin/",
							"host": ["{{base_url}}"],
							"path": ["api", "v1", "admin", "create_admin", ""]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://orderflow.jameskiruri.co.ke/",
			"type": "string"
		},
		{
			"key": "customer_token",
			"value": "your_customer_token_here",
			"type": "string"
		},
		{
			"key": "admin_token",
			"value": "your_admin_token_here",
			"type": "string"
		},
		{
			"key": "product_id",
			"value": "product_uuid_here",
			"type": "string"
		},
		{
			"key": "product_id_2",
			"value": "product_uuid_here",
			"type": "string"
		},
		{
			"key": "order_id",
			"value": "order_id_here",
			"type": "string"
		},
		{
			"key": "customer_id",
			"value": "customer_id_here",
			"type": "string"
		},
		{
			"key": "category_slug",
			"value": "electronics",
			"type": "string"
		},
		{
			"key": "search_term",
			"value": "iphone",
			"type": "string"
		},
		{
			"key": "admin_id",
			"value": "admin_id_here",
			"type": "string"
		}
	]
}
